# Crypto Token Info Query

Welcome to Crypto Token Info Query! This web application empowers you to query and analyze cryptocurrency tokens across various blockchains, enhanced with AI-powered insights.

## Features

- **Comprehensive Token Analysis:**
    - Fetches real-time market data for tokens on Solana (SOL) and Base (BASE) blockchains. This includes price (primarily via OKX integration), and a wide range of market data, metadata, and on-chain signals (primarily via CoinGecko integration), such as market cap, supply details, project links, community signals, and developer activity.
    - Uses AI (OpenAI/GPT via OpenRouter) to provide deeper insights by summarizing this enriched set of token data. (Note: AI insights aim to provide a holistic overview, assess potential risks, and evaluate prospects based on the comprehensive data.)
- **Multi-Blockchain Support:** Currently supports Solana (SOL) and Base (BASE).
- **Secure Access:** API endpoints are protected by an access code.
- **Query History:** Track your past token queries with Supabase integration.
- **Modern Tech Stack:** Built with Next.js, Tailwind CSS for a responsive design, Zod for form validation, and TypeScript for robust, type-safe code.

## Token Analysis In-Depth

This core feature offers a detailed look at cryptocurrency tokens by combining live market data from multiple sources with AI-generated analysis.

### Overview
The token analysis tool helps you quickly understand a token's current market performance and potential future outlook. It achieves this by fetching comprehensive real-time data and providing AI-driven interpretations when the "AI Enhanced Analysis" type is selected.

### Data Sources
- **Market & Token Data:**
    - **OKX:** Primarily used for real-time price data for supported tokens.
    - **CoinGecko:** A key provider for a broad range of token information, including detailed market statistics (market cap, trading volume, price changes), supply details (total, circulating), project metadata (description, links to websites, explorers, social media), community metrics (e.g., Telegram members), and developer activity signals (e.g., GitHub stats).
- **AI Insights:** Advanced analysis and summarization are generated by large language models (OpenAI's GPT series) accessed via OpenRouter, using the combined data from the above sources.

### Information Provided
When you analyze a token, you can expect to receive:
- **Comprehensive Token Details (from `basicInfo` field):**
    - Current Price (in USD, primarily from OKX)
    - Token Symbol (e.g., SOL)
    - Token Name (e.g., Solana)
    - Decimals (precision of the token)
    - Logo URL (if available)
    - **Market Cap** (e.g., $500 Million USD)
    - **Total Supply** & **Circulating Supply**
    - **Project Links:** Homepage, main blockchain explorer link.
    - **Social & Community Links:** Twitter, Telegram, etc.
    - **Telegram Channel Members** (if available from CoinGecko)
    - **Basic GitHub Activity:** Forks, stars, commit counts (if available from CoinGecko)
    - And more, depending on availability from CoinGecko.
- **AI-Powered Analysis (from `tokenInfo` field, if "AI Enhanced Analysis" is selected):**
    - **Comprehensive Summary:** A concise overview of the token's key characteristics, market position, community engagement, and developer activity, based on the enriched dataset.
    - **Data-Driven Assessment:** An evaluation of potential points of interest or caution based strictly on the provided comprehensive data.
    - *(Please note: The specifics of AI analysis are dynamic and may evolve. Our goal is always to provide actionable insights from the available data.)*

### How to Use
1. Go to the token query section of the application.
2. Choose the blockchain (e.g., Solana, Base).
3. Type in the token's contract address.
4. Select "Basic Info" for structured data or "AI Enhanced Analysis" for an AI-generated summary of the comprehensive data.
5. Click "Search Token" to view the analysis.

### Interpreting the Results
The information provided is for educational and informational purposes only. While our AI aims to deliver accurate and insightful analysis based on a wide range of data, it should not be taken as financial advice. While the analysis is more comprehensive with CoinGecko data, it does not include exhaustive details like full on-chain holder distribution analysis or formal smart contract audit reports. Always cross-reference information and conduct your own thorough research (DYOR) before making any investment decisions.

## Prerequisites

To run this project locally, you'll need:
- Node.js (version 16.x or newer)
- Bun (recommended for package management) or npm
- A Supabase account (for database and query history)
- An OpenRouter API key (for AI-powered analysis)
- OKX API credentials (for some market data points)

## Environment Variables

Before starting, create a `.env` file in the project's root directory. Copy the example from `.env.example` (if available) or use the template below, filling in your actual credentials:

```env
# Supabase - Get these from your Supabase project settings
NEXT_PUBLIC_SUPABASE_URL=YOUR_SUPABASE_URL
NEXT_PUBLIC_SUPABASE_ANON_KEY=YOUR_SUPABASE_ANON_KEY
SUPABASE_SERVICE_ROLE_KEY=YOUR_SUPABASE_SERVICE_ROLE_KEY # Important: Keep this secret!

# OpenRouter - Get this from your OpenRouter dashboard
OPENROUTER_API_KEY=YOUR_OPENROUTER_API_KEY

# Twitter API via RapidAPI (Optional, if you integrate Twitter features)
RAPID_API_KEY=YOUR_RAPID_API_KEY

# OKX API - For fetching market data
OKX_API_KEY=YOUR_OKX_API_KEY
OKX_SECRET_KEY=YOUR_OKX_SECRET_KEY
OKX_PASSPHRASE=YOUR_OKX_PASSPHRASE
PROJECT_ID=YOUR_PROJECT_ID # Optional for OKX, check their API docs

# Access Code - A simple password to protect your API endpoints
NEXT_PUBLIC_ACCESS_CODE=YOUR_CHOSEN_ACCESS_CODE

# Application URL - The base URL where your app is running
NEXT_PUBLIC_APP_URL=http://localhost:3000 # Or your deployed app URL
```

**Note on OKX API Access:**
1.  Register at OKX and create API keys at [https://www.okx.com/account/my-api](https://www.okx.com/account/my-api).
2.  Ensure you enable **reading permissions** for the API key.
3.  Store your API key, secret key, and passphrase securely in the `.env` file.

## Installation

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/volcanicll/Crypto-Token-Info-Query
    cd Crypto-Token-Info-Query
    ```

2.  **Install dependencies:**
    Using Bun (recommended):
    ```bash
    bun install
    ```
    Or using npm:
    ```bash
    npm install --legacy-peer-deps # --legacy-peer-deps might be needed for some environments
    ```

3.  **Set up the database:**
    - Create a new project on [Supabase](https://supabase.com/).
    - In your Supabase project's SQL Editor, run the SQL commands found in `supabase.sql` (you'll need to create this file or get it from the project maintainer if it's not in the repo).
    - Add your Supabase URL and keys to your `.env` file.

4.  **Start the development server:**
    Using Bun:
    ```bash
    bun dev
    ```
    Or using npm:
    ```bash
    npm run dev
    ```

5.  Open [http://localhost:3000](http://localhost:3000) in your web browser to see the application.

## Project Structure

Here's a brief overview of the key directories:
```
src/
├── app/              # Next.js App Router (pages, API routes)
├── components/       # Reusable React components
├── config/           # Configuration files (API clients, etc.)
├── types/            # TypeScript type definitions
└── utils/            # Utility functions and helpers
```

## API Routes

### POST /api/query-token

This is the primary endpoint for analyzing a token on a specified blockchain.

**Request Body:**
```json
{
  "contract_address": "string",  // The token's contract address
  "blockchain": "SOL" | "BASE",  // The blockchain where the token resides
  "analysis_type": "basic" | "ai" // Type of analysis requested
}
```

**Example Response (Success):**
The response contains a `success` flag and a `data` object.
- `data.basicInfo`: Contains a rich set of token data aggregated from sources like OKX and CoinGecko. This includes price, market cap, supply details, project links, community stats, developer activity indicators, and more, as outlined in the "Information Provided" section.
- `data.tokenInfo`: If `analysis_type` was "ai", this field contains the AI-generated summary and assessment of the comprehensive data found in `basicInfo`. Otherwise, it may be undefined or null.
- `data.twitterAnalysis`: Contains results from Twitter analysis, if applicable.
- `data.blockchain` and `data.contractAddress` reflect the query parameters.

```json
{
  "success": true,
  "data": {
    "tokenInfo": "AI-generated summary string if 'ai' analysis was requested...",
    "basicInfo": {
      // ... comprehensive token data fields as described above ...
      "price": "123.45",
      "name": "Example Token",
      "symbol": "XTK",
      "market_data_coingecko": {
        "market_cap": {"usd": 500000000},
        // ... other CoinGecko market data ...
      },
      "links": {
        "homepage": ["https://example.com"]
        // ... other links ...
      }
      // ... etc. ...
    },
    "twitterAnalysis": { /* ... (if applicable) ... */ },
    "blockchain": "SOL",
    "contractAddress": "YourQueriedContractAddress"
  }
}
```

## Contributing

We welcome contributions! If you'd like to improve the project:
1. Fork the repository.
2. Create a new branch for your feature: `git checkout -b feature/your-amazing-feature`
3. Make your changes and commit them: `git commit -m 'Add some amazing feature'`
4. Push to your branch: `git push origin feature/your-amazing-feature`
5. Open a Pull Request for review.

## License

This project is licensed under the MIT License. See the `LICENSE` file for more details.
```
